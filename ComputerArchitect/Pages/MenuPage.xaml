<Page x:Class="ComputerArchitect.UI.Pages.MenuPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:ComputerArchitect.UI.Pages"
      mc:Ignorable="d" 
      MinHeight="870" 
      MinWidth="1550"
      Loaded="Page_Loaded"
      Title="MenuPage" Background="Transparent">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="70"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Border Background="#26262C" Grid.Row="0" Height="70" VerticalAlignment="Top" Grid.RowSpan="2">
            <Border.Effect>
                <DropShadowEffect ShadowDepth="2" BlurRadius="10" Color="Black" Opacity="0.4"/>
            </Border.Effect>
        </Border>
        <!-- Навигационное меню -->
        <Grid Name="MenuPages"  Margin="0 0 760 0" HorizontalAlignment="Center">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="20"/>
                <ColumnDefinition/>
                <ColumnDefinition Width="20"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <Label Content="КАТАЛОГ"
                   Name="NavigationLabelCatalog"
                   MouseLeftButtonDown="NavigationLabelCatalog_MouseLeftButtonDown"
                   Style="{StaticResource NavigationLabelStyleBlack}"
                   Grid.Column="0"
                   Height="70"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"/>
            <Label Content="ГОТОВЫЕ СБОРКИ"
                   MouseLeftButtonDown="NavigationLabelReadyMadeAssembly_MouseLeftButtonDown"
                   Name="NavigationLabelReadyMadeAssembly"
                   Style="{StaticResource NavigationLabelStyleBlack}"
                   Grid.Column="2"
                   Height="70"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"/>
            <Label Content="КОНФИГУРАТОР"
                   MouseLeftButtonDown="NavigationLabelConfigurator_MouseLeftButtonDown"
                   Height="70"
                   Name="NavigationLabelConfigurator"
                   Style="{StaticResource NavigationLabelStyleBlack}"
                   Grid.Column="4"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"/>

            <Rectangle Grid.Column="1"
                       Fill="#D6D6D6"
                       Width="2"
                       Visibility="Collapsed"
                       HorizontalAlignment="Right"
                       VerticalAlignment="Center"
                       Height="24"/>
            <Rectangle Grid.Column="1"
                       Fill="#D6D6D6"
                       Width="2"
                       Visibility="Collapsed"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Center" 
                       Height="24"/>
        </Grid>


        <!-- Контейнер пользователя -->
        <Grid Name="UserContainer"  
              Background="Transparent" 
              Width="200"
              Margin="0 0 10 0"
              HorizontalAlignment="Right">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <Border Name="UserMenuBorder" 
                    Visibility="Collapsed" 
                    Height="70" Width="75" 
                    VerticalAlignment="Bottom"
                    HorizontalAlignment="Center" 
                    Background="#2F2F36" 
                    Grid.RowSpan="4"
                    Grid.Column="2"
                    CornerRadius="0" 
                    BorderThickness="0" 
                    BorderBrush="#42424B"/>
            <Button
                x:Name="OpenUserMenuButton"
                Click="OpenUserMenuButton_Click"
                HorizontalAlignment="Center"
                Grid.Column="2"
                Height="55"
                Style="{StaticResource BasketButtonStyleBlack}"
                Background="Transparent"
                Width="55">
                <Path HorizontalAlignment="Center"  
                      Width="35" 
                      Height="35" 
                      Fill="#D6D6D6" Data="M9.72222,
                      11.6667C9.72222,7.37112 13.2044,
                      3.88889 17.5,3.88889C21.7955,
                      3.88889 25.2778,7.37112 25.2778,
                      11.6667C25.2778,15.9621 21.7955,
                      19.4444 17.5,19.4444C13.2044,19.4444 9.72222,
                      15.9621 9.72222,11.6667ZM24.9361,
                      20.6568C27.5203,18.5169 29.1667,
                      15.2841 29.1667,11.6667C29.1667,5.22334 23.9433,
                      0 17.5,0C11.0567,0 5.83333,5.22334 5.83333,
                      11.6667C5.83333,15.2841 7.47966,18.5169 10.0639,
                      20.6568C3.85819,22.8392 0,27.7033 0,33.0556C0,
                      34.1295 0.870567,35 1.94444,35C3.01832,35 3.88889,
                      34.1295 3.88889,33.0556C3.88889,28.6428 8.46864,
                      23.3333 17.5,23.3333C26.5314,23.3333 31.1111,
                      28.6428 31.1111,33.0556C31.1111,34.1295 31.9816,
                      35 33.0556,35C34.1295,35 35,34.1295 35,33.0556C35,
                      27.7033 31.1418,22.8392 24.9361,20.6568Z"/>
            </Button>
            <Button 
                    Name="UserCartOpenButton"
                    Click="UserCartOpenButton_Click"
                    Height="55"
                    Style="{StaticResource BasketButtonStyleBlack}"
                    Background="Transparent"
                    Grid.Column="1"
                    Width="55">
                <Grid>
                    <Path VerticalAlignment="Center"
            HorizontalAlignment="Center" 
            Width="40" 
            Height="35" 
            Fill="#D6D6D6" 
            Data="M20.0001 3.5C17.0917 
            3.5 14.5181 5.25541 13.6381 
            7.83941L12.136 
            12.25H13.4293H26.5707H27.864L26.362 
            7.83941C25.4819 5.25541 22.9082 3.5 
            20.0001 3.5ZM31.8032 12.25L29.9405 
            6.78037C28.5656 2.74284 24.5443 0 20.0001 
            0C15.4557 0 11.4344 2.74284 10.0594 
            6.78037L8.19666 12.25H3.75716C1.23771 
            12.25 -0.566802 14.5173 0.163856 16.765L2.27443 
            23.2575L4.87994 31.2725C5.59956 33.4863 7.78855 
            35 10.2699 35H16.2453H23.7547H29.7301C32.2114 35 
            34.4003 33.4863 35.1199 31.2725L37.7255 
            23.2575L39.8361 16.765C40.5668 14.5173 38.7623 
            12.25 36.2427 12.25H31.8032ZM9.57035 15.75H3.75716L5.46383 
            21H12.5586L11.7906 15.75H9.57035ZM15.58 15.75L16.3481 
            21H23.6518L24.4199 
            15.75H15.58ZM28.2093 15.75L27.4414 21H34.5361L36.2427 
            15.75H30.4296H28.2093ZM33.3984 
            24.5H26.9293L25.9054 31.5H29.7301C30.5572 31.5 31.2868 
            30.9955 31.5267 30.2575L33.3984 24.5ZM22.116 31.5L23.1399 
            24.5H16.86L17.8839 31.5H22.116ZM14.0946 31.5L13.0706 
            24.5H6.60161L8.47325 30.2575C8.71312 30.9955 9.4428 
            31.5 10.2699 31.5H14.0946Z"/>
                    <Border Background="#6DB2E3"
                            Name="ItemCountBack"
                            Visibility="Visible"
                            Margin="0 15 0 0"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            Width="20" 
                            CornerRadius="10"
                            Height="20"/>
                    <Label Content="2"
                         Name="ItemCountLabel"  
                           Visibility="Visible"
                         FontFamily="arial"
                        FontWeight="Bold"
                           Margin="0 0 1 0"
                        Foreground="#D6D6D6"
                         FontSize="14"
                         HorizontalAlignment="Right"
                         VerticalAlignment="Center"/>


                </Grid>
                
            </Button>
            <Button 
             Name="AdminPanelOpenButton"
             Visibility="Collapsed"
             Click="AdminPanelOpenButton_Click"
             Height="55"
             Style="{StaticResource BasketButtonStyleBlack}"
             Background="Transparent"
             Grid.Column="0"
             Width="55">
                <Grid>
                    <Canvas Width="35" Height="35">
                        <Path Data="M11.5954 23.6738H11.7878C11.9304 24.2237 12.1513 24.7379 12.4364 25.2164L12.3366 25.3163C11.7451 25.9091 11.7451 26.8089 12.3366 27.4016C12.6359 27.7016 13.0065 27.8515 13.3771 27.8515C13.7477 27.8515 14.1183 27.7016 14.4177 27.4016L14.5388 27.2802C14.9878 27.5373 15.4724 27.7444 15.9784 27.8801V28.0729C15.9784 28.8942 16.6484 29.5655 17.468 29.5655C18.2875 29.5655 18.9575 28.8942 18.9575 28.0729V27.8801C19.4706 27.7444 19.9552 27.5373 20.4113 27.2802L20.6252 27.4945C21.2024 28.0729 22.1503 28.0729 22.7276 27.4945C23.3049 26.916 23.3049 25.9662 22.7276 25.3877L22.528 25.1878C22.806 24.7236 23.0198 24.2237 23.1552 23.6881H23.2692C24.0888 23.6881 24.83 23.0168 24.83 22.1955C24.83 21.3743 24.1601 20.703 23.3405 20.703H23.1552C23.0198 20.1674 22.806 19.6603 22.5352 19.2033L22.5922 19.1462C23.1837 18.5534 23.1837 17.6536 22.5922 17.0609C22.0006 16.4681 21.1027 16.4681 20.5111 17.0609L20.4541 17.118C19.9909 16.8466 19.492 16.6395 18.9575 16.4967V16.3824C18.9575 15.5612 18.2875 14.8899 17.468 14.8899C16.6484 14.8899 15.9784 15.5612 15.9784 16.3824V16.4967C15.4439 16.6395 14.9379 16.8538 14.4818 17.1252L14.3963 17.0395C13.819 16.461 12.8711 16.461 12.2939 17.0395C11.7166 17.6179 11.7166 18.5677 12.2939 19.1462L12.3936 19.2461C12.1299 19.6961 11.9304 20.1888 11.795 20.703H11.6026C10.783 20.703 10.113 21.3743 10.113 22.1955C10.113 23.0025 10.7758 23.6738 11.5954 23.6738ZM17.468 19.2819C19.1 19.2819 20.4399 20.6244 20.4399 22.2598C20.4399 23.8952 19.1 25.2378 17.468 25.2378C15.8359 25.2378 14.4961 23.8952 14.4961 22.2598C14.4961 20.6244 15.8288 19.2819 17.468 19.2819Z" Fill="#D6D6D6"/>
                        <Path Data="M33.5176 0H1.48951C0.669925 0 0 0.671292 0 1.49255V33.5074C0 34.3287 0.669925 35 1.48951 35H33.4392C34.2588 35 34.9287 34.3287 35 33.586V1.49255C35 0.671292 34.3301 0 33.5176 0ZM32.0281 32.0863H2.90063V12.4332H32.0281V32.0863ZM32.0281 9.45521H2.90063V2.90655H32.0281V9.45521Z" Fill="#D6D6D6"/>
                        <Path Data="M16.4987 7.8269C17.3056 7.8269 17.9597 7.17145 17.9597 6.36291C17.9597 5.55438 17.3056 4.89893 16.4987 4.89893C15.6918 4.89893 15.0377 5.55438 15.0377 6.36291C15.0377 7.17145 15.6918 7.8269 16.4987 7.8269Z" Fill="#D6D6D6"/>
                    </Canvas>
                </Grid>

            </Button>
            <Button 
             Name="DeliveryPanelOpenButton"
             Visibility="Collapsed"
             Click="DeliveryPanelOpenButton_Click"
             Height="55"
             Style="{StaticResource BasketButtonStyleBlack}"
             Background="Transparent"
             Grid.Column="0"
             Width="55">
                <Grid>
                    <Canvas Width="37" Height="21" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation">
                        <Path Fill="#D6D6D6" Data="M36.3487 15.0516V10.2537C36.3487 10.0313 36.2943 9.8129 36.1908 9.62023L32.9508 3.59092C32.7398 3.19836 32.3498 2.9566 31.9275 2.9566H26.9121V1.26787C26.9121 0.567693 26.3832 0 25.7308 0H2.07931C1.42697 0 0.89805 0.567616 0.89805 1.26787V14.9541C0.382721 15.0904 0 15.5883 0 16.1836C0 16.8837 0.528915 17.4514 1.18126 17.4514H4.58116C4.89458 19.4622 6.52649 21 8.48758 21C10.4487 21 12.0806 19.4623 12.394 17.4514H26.476C26.7894 19.4622 28.4213 21 30.3824 21C32.3435 21 33.9754 19.4623 34.2888 17.4514H35.8187C36.4711 17.4514 37 16.8838 37 16.1836C37.0002 15.6881 36.7348 15.2602 36.3487 15.0516ZM8.48772 18.4643C7.60586 18.4643 6.88847 17.6943 6.88847 16.7478C6.88847 15.8013 7.60586 15.0313 8.48772 15.0313C9.36958 15.0313 10.087 15.8013 10.087 16.7478C10.0869 17.6943 9.36951 18.4643 8.48772 18.4643ZM24.5497 14.9157H12.0622C11.4234 13.4856 10.0612 12.4956 8.48765 12.4956C6.91405 12.4956 5.55184 13.4856 4.91308 14.9157H3.26057V2.53566H24.5497V14.9157ZM26.9122 5.49225H31.2452L32.867 8.51028H26.9122V5.49225ZM30.3825 18.4643C29.5007 18.4643 28.7833 17.6943 28.7833 16.7478C28.7833 15.8013 29.5007 15.0313 30.3825 15.0313C31.2644 15.0313 31.9818 15.8013 31.9818 16.7478C31.9818 17.6943 31.2643 18.4643 30.3825 18.4643ZM33.9862 14.9157H33.9571C33.3183 13.4856 31.9561 12.4956 30.3825 12.4956C28.8896 12.4956 27.5873 13.3868 26.9121 14.6994V11.0459H33.9862V14.9157Z"/>
                    </Canvas>
                </Grid>

            </Button>
        </Grid>

        <!-- Popup меню пользователя -->
        <Grid Name="UserMenu" Panel.ZIndex="2" Visibility="Collapsed" Grid.Row="1" 
                VerticalAlignment="Top" 
                HorizontalAlignment="Right" 
                Background="Transparent"
                Margin="0 0 10 0"
                Width="200" 
                Height="180">
            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Border Background="#2F2F36" 
                    Grid.RowSpan="4" 
                    CornerRadius="0 0 3 3" 
                    BorderThickness="0.9 0.9 0.9 0.9" 
                    BorderBrush="#42424B">
                <Border.Effect>
                        <DropShadowEffect ShadowDepth="2" 
                                          BlurRadius="20"
                                          Color="Black" 
                                          Opacity="0.3"/>
                    </Border.Effect>
                
            </Border>
           
            <!-- Имя пользователя и фотография -->
                <StackPanel Width="180" Height="30">
                    <Grid Width="180" Height="30" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                    <Border Width="30" 
                        Height="30"
                        HorizontalAlignment="Center" 
                        VerticalAlignment="Top" 
                        Background="Black" 
                        Grid.Column="0" 
                        Grid.Row="1" 
                        Grid.RowSpan="2">
                        <Border.Clip>
                            <EllipseGeometry RadiusX="15" 
                                             RadiusY="15" 
                                             Center="15,15"/>
                        </Border.Clip>
                        <Image Stretch="Fill" 
                               x:Name="UserAvatarSmallImage" 
                               Source="\UI\Elements\UserMissedPictureBig.png"/>
                    </Border>

                    <Label Grid.Column="1" Content="Имя пользователя"
                               Name="CurrentUserNameLabel"
                               VerticalAlignment="Center"
                               Foreground="#D6D6D6" 
                               FontFamily="Arial" 
                               FontSize="14" 
                               FontWeight="Bold"/>
                    </Grid>
                </StackPanel>

            <!-- Кнопка Личного кабинета пользователя -->
            <Button Name="UserProfileOpenButton" 
                    Click="UserProfileOpenButton_Click" 
                    Grid.Row="1" Width="190" 
                    Height="38" Style="{StaticResource UserMenuButtonStyleBlack}">
                <StackPanel Width="180" Height="30">
                    <Grid Width="180" Height="30" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Path Width="25" 
                              Height="25" 
                              Fill="#D6D6D6" Data="M6.94444 8.33333C6.94444 5.26508 9.43175 
                              2.77778 12.5 2.77778C15.5682 2.77778 18.0556 5.26508 18.0556 
                              8.33333C18.0556 11.4015 15.5682 13.8889 12.5 13.8889C9.43175 
                              13.8889 6.94444 11.4015 6.94444 8.33333ZM17.8115 14.7549C19.6574 
                              13.2264 20.8333 10.9172 20.8333 8.33333C20.8333 3.73096 17.1024 0 
                              12.5 0C7.89762 0 4.16667 3.73096 4.16667 8.33333C4.16667 10.9172 
                              5.34261 13.2264 7.1885 14.7549C2.75585 16.3137 0 19.7881 0 23.6111C0 
                              24.3782 0.621833 25 1.38889 25C2.15594 25 2.77778 24.3782 2.77778 
                              23.6111C2.77778 20.4592 6.04903 16.6667 12.5 16.6667C18.951 16.6667 
                              22.2222 20.4592 22.2222 23.6111C22.2222 24.3782 22.844 25 23.6111 
                              25C24.3782 25 25 24.3782 25 23.6111C25 19.7881 22.2442 16.3137 17.8115 
                              14.7549Z"/>
                        <Label Grid.Column="1" Content="Мой профиль"
                   VerticalAlignment="Center"
                   Foreground="#D6D6D6" 
                   FontFamily="Arial" 
                   FontSize="14" 
                   FontWeight="Bold"/>
                    </Grid>
                </StackPanel>
            </Button>
            <!-- О программе -->
            <Button Name="InfoAboutProgramOpenButton" 
         Click="InfoAboutProgramOpenButton_Click" 
         Grid.Row="2" Width="190" 
         Height="38" Style="{StaticResource UserMenuButtonStyleBlack}">
                <StackPanel Width="180" Height="30">
                    <Grid Width="180" Height="30" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Path Fill="#D6D6D6"
                              VerticalAlignment="Center"
                              HorizontalAlignment="Center"
                              Data="M12.5 0C19.4036 0 25 5.59645 
                                      25 12.5C25 19.4036 19.4036 25 12.5 25C5.59636 25 
                                      0 19.4036 0 12.5C0 5.59645 5.59636 0 12.5 0ZM12.5 
                                      3.125C7.32231 3.125 3.125 7.32231 3.125 12.5C3.125 
                                      17.6777 7.32231 21.875 12.5 21.875C17.6777 21.875 
                                      21.875 17.6777 21.875 12.5C21.875 7.32231 17.6777 
                                      3.125 12.5 3.125ZM12.5 10.9375C13.3013 10.9375 
                                      13.9617 11.5407 14.052 12.3178L14.0625 12.5V17.1875C14.0625 
                                      18.0505 13.3629 18.75 12.5 18.75C11.6987 18.75 11.0383 
                                      18.1468 10.948 17.3697L10.9375 17.1875V12.5C10.9375 
                                      11.6371 11.6371 10.9375 12.5 10.9375ZM12.5 6.25C13.3629 
                                      6.25 14.0625 6.94956 14.0625 7.8125C14.0625 8.67544 
                                      13.3629 9.375 12.5 9.375C11.6371 9.375 10.9375 8.67544 
                                      10.9375 7.8125C10.9375 6.94956 11.6371 6.25 12.5 6.25Z"/>
                        <Label Grid.Column="1" Content="О программе"
                               VerticalAlignment="Center"
                               Foreground="#D6D6D6" 
                               FontFamily="Arial" 
                               FontSize="14" 
                               FontWeight="Bold"/>
                    </Grid>
                </StackPanel>
            </Button>
            <!-- Выход из аккаунта -->
            <Button Name="LogoutButton" 
                    Click="LogoutButton_Click" 
                    Grid.Row="3" Width="190" 
                    Height="38" Style="{StaticResource UserMenuButtonStyleBlack}">
                <StackPanel Width="180" Height="30">
                    <Grid Width="180" Height="30" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Path Width="25" 
                              Height="25" 
                              Fill="#BE4D4D" 
                              Data="M9.52381 2.5C7.55137 
                              2.5 5.95238 4.17894 5.95238 
                              6.25001C5.95238 8.32107 7.55137 
                              10 9.52381 10C11.4963 10 13.0952 
                              8.32107 13.0952 6.25001C13.0952 
                              4.17894 11.4963 2.5 9.52381 
                              2.5ZM15.4762 6.25001C15.4762 
                              7.99457 14.7955 9.57214 13.6976 
                              10.706C14.6315 11.0505 15.4639 
                              11.5106 16.1804 12.0623C16.7105 
                              12.4706 16.825 13.2529 16.4361 
                              13.8095C16.0473 14.3663 15.3023 
                              14.4865 14.772 14.0781C13.5793 
                              13.1595 11.8123 12.5 9.52381 
                              12.5C4.67944 12.5 2.38095 15.3376 
                              2.38095 17.5C2.38095 18.1904 1.84795 
                              18.75 1.19048 18.75C0.533 18.75 0 18.1904 
                              0 17.5C0 14.5324 2.08264 11.9208 5.35612 
                              10.7124C4.25471 9.57814 3.57143 7.99785 
                              3.57143 6.25001C3.57143 2.79823 6.2364 0 9.52381 
                              0C12.8112 0 15.4762 2.79823 15.4762 6.25001ZM19.8894 
                              17.1339C20.3543 16.6458 20.3543 15.8543 19.8894 
                              15.3661C19.4245 14.878 18.6707 14.878 18.2058 
                              15.3661L14.6344 19.1161C14.1695 19.6043 14.1695 
                              20.3958 14.6344 20.8839L18.2058 24.6339C18.6707 
                              25.122 19.4245 25.122 19.8894 24.6339C20.3543 
                              24.1458 20.3543 23.3543 19.8894 22.8662L18.3502 
                              21.25H23.8095C24.467 21.25 25 20.6904 25 20C25 
                              19.3096 24.467 18.75 23.8095 18.75H18.3502L19.8894 17.1339Z"/>
                        <Label Grid.Column="1" Content="Выйти"
                   VerticalAlignment="Center"
                   Foreground="#BE4D4D" 
                   FontFamily="Arial" 
                   FontSize="14" 
                   FontWeight="Bold"/>
                    </Grid>
                </StackPanel>
            </Button>
        </Grid>
        <!-- Фрейм с основмыми страницами меню -->
        <Frame Visibility="Visible" 
               Grid.Row="1" 
               Name="MenuFrame" 
               NavigationUIVisibility="Hidden"/>
    </Grid>
</Page>
