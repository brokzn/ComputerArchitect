<Page x:Class="ComputerArchitect.UI.Pages.MenuPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:ComputerArchitect.UI.Pages"
      mc:Ignorable="d" 
      MinHeight="870" 
      MinWidth="1550"
      Loaded="Page_Loaded"
      Title="MenuPage" Background="Transparent">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="70"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Border Background="#26262C" Grid.Row="0" Height="70" VerticalAlignment="Top" Grid.RowSpan="2">
            <Border.Effect>
                <DropShadowEffect ShadowDepth="2" BlurRadius="10" Color="Black" Opacity="0.4"/>
            </Border.Effect>
        </Border>
        <!-- Навигационное меню -->
        <Grid Name="MenuPages"  Margin="0 0 760 0" HorizontalAlignment="Center">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="20"/>
                <ColumnDefinition/>
                <ColumnDefinition Width="20"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <Label Content="КАТАЛОГ"
                   Name="NavigationLabelCatalog"
                   MouseLeftButtonDown="NavigationLabelCatalog_MouseLeftButtonDown"
                   Style="{StaticResource NavigationLabelStyleBlack}"
                   Grid.Column="0"
                   Height="70"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"/>
            <Label Content="ГОТОВЫЕ СБОРКИ"
                   MouseLeftButtonDown="NavigationLabelReadyMadeAssembly_MouseLeftButtonDown"
                   Name="NavigationLabelReadyMadeAssembly"
                   Style="{StaticResource NavigationLabelStyleBlack}"
                   Grid.Column="2"
                   Height="70"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"/>
            <Label Content="КОНФИГУРАТОР"
                   MouseLeftButtonDown="NavigationLabelConfigurator_MouseLeftButtonDown"
                   Height="70"
                   Name="NavigationLabelConfigurator"
                   Style="{StaticResource NavigationLabelStyleBlack}"
                   Grid.Column="4"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"/>

            <Rectangle Grid.Column="1"
                       Fill="#D6D6D6"
                       Width="2"
                       Visibility="Collapsed"
                       HorizontalAlignment="Right"
                       VerticalAlignment="Center"
                       Height="24"/>
            <Rectangle Grid.Column="1"
                       Fill="#D6D6D6"
                       Width="2"
                       Visibility="Collapsed"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Center" 
                       Height="24"/>
        </Grid>


        <!-- Контейнер пользователя -->
        <Grid Name="UserContainer"  
              Background="Transparent" 
              Width="200"
              Margin="0 0 10 0"
              HorizontalAlignment="Right">
            <Border Name="UserMenuBorder" 
                    Visibility="Collapsed" 
                    Height="70" Width="75" 
                    VerticalAlignment="Bottom"
                    HorizontalAlignment="Right" 
                    Background="#2F2F36" 
                    Grid.RowSpan="4" 
                    CornerRadius="0" 
                    BorderThickness="0" 
                    BorderBrush="#42424B"/>
            <Button
                x:Name="OpenUserMenuButton"
                Click="OpenUserMenuButton_Click"
                HorizontalAlignment="Right"
                Margin="0 0 10 0"
                Height="55"
                Style="{StaticResource BasketButtonStyleBlack}"
                Background="Transparent"
                Width="55">
                <Path HorizontalAlignment="Center"  
                      Width="35" 
                      Height="35" 
                      Fill="#D6D6D6" Data="M9.72222,
                      11.6667C9.72222,7.37112 13.2044,
                      3.88889 17.5,3.88889C21.7955,
                      3.88889 25.2778,7.37112 25.2778,
                      11.6667C25.2778,15.9621 21.7955,
                      19.4444 17.5,19.4444C13.2044,19.4444 9.72222,
                      15.9621 9.72222,11.6667ZM24.9361,
                      20.6568C27.5203,18.5169 29.1667,
                      15.2841 29.1667,11.6667C29.1667,5.22334 23.9433,
                      0 17.5,0C11.0567,0 5.83333,5.22334 5.83333,
                      11.6667C5.83333,15.2841 7.47966,18.5169 10.0639,
                      20.6568C3.85819,22.8392 0,27.7033 0,33.0556C0,
                      34.1295 0.870567,35 1.94444,35C3.01832,35 3.88889,
                      34.1295 3.88889,33.0556C3.88889,28.6428 8.46864,
                      23.3333 17.5,23.3333C26.5314,23.3333 31.1111,
                      28.6428 31.1111,33.0556C31.1111,34.1295 31.9816,
                      35 33.0556,35C34.1295,35 35,34.1295 35,33.0556C35,
                      27.7033 31.1418,22.8392 24.9361,20.6568Z"/>
            </Button>

            <Button 
                    Name="UserCartOpenButton"
                    Click="UserCartOpenButton_Click"
                    Height="55"
                    Style="{StaticResource BasketButtonStyleBlack}"
                    Background="Transparent"
                    Margin="0 0 25 0"
                    Width="55">
                <Grid>
                    <Path VerticalAlignment="Center"
            HorizontalAlignment="Center" 
            Width="40" 
            Height="35" 
            Fill="#D6D6D6" 
            Data="M20.0001 3.5C17.0917 
            3.5 14.5181 5.25541 13.6381 
            7.83941L12.136 
            12.25H13.4293H26.5707H27.864L26.362 
            7.83941C25.4819 5.25541 22.9082 3.5 
            20.0001 3.5ZM31.8032 12.25L29.9405 
            6.78037C28.5656 2.74284 24.5443 0 20.0001 
            0C15.4557 0 11.4344 2.74284 10.0594 
            6.78037L8.19666 12.25H3.75716C1.23771 
            12.25 -0.566802 14.5173 0.163856 16.765L2.27443 
            23.2575L4.87994 31.2725C5.59956 33.4863 7.78855 
            35 10.2699 35H16.2453H23.7547H29.7301C32.2114 35 
            34.4003 33.4863 35.1199 31.2725L37.7255 
            23.2575L39.8361 16.765C40.5668 14.5173 38.7623 
            12.25 36.2427 12.25H31.8032ZM9.57035 15.75H3.75716L5.46383 
            21H12.5586L11.7906 15.75H9.57035ZM15.58 15.75L16.3481 
            21H23.6518L24.4199 
            15.75H15.58ZM28.2093 15.75L27.4414 21H34.5361L36.2427 
            15.75H30.4296H28.2093ZM33.3984 
            24.5H26.9293L25.9054 31.5H29.7301C30.5572 31.5 31.2868 
            30.9955 31.5267 30.2575L33.3984 24.5ZM22.116 31.5L23.1399 
            24.5H16.86L17.8839 31.5H22.116ZM14.0946 31.5L13.0706 
            24.5H6.60161L8.47325 30.2575C8.71312 30.9955 9.4428 
            31.5 10.2699 31.5H14.0946Z"/>
                    <Border Background="#6DB2E3"
                            Name="ItemCountBack"
                            Visibility="Visible"
                            Margin="0 15 0 0"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            Width="20" 
                            CornerRadius="10"
                            Height="20"/>
                    <Label Content="2"
                         Name="ItemCountLabel"  
                           Visibility="Visible"
                         FontFamily="arial"
                        FontWeight="Bold"
                           Margin="0 0 1 0"
                        Foreground="#D6D6D6"
                         FontSize="14"
                         HorizontalAlignment="Right"
                         VerticalAlignment="Center"/>


                </Grid>
                
            </Button>
            
        </Grid>

        <!-- Popup меню пользователя -->
        <Grid Name="UserMenu" Panel.ZIndex="2" Visibility="Collapsed" Grid.Row="1" 
                VerticalAlignment="Top" 
                HorizontalAlignment="Right" 
                Background="Transparent"
                Margin="0 0 10 0"
                Width="200" 
                Height="180">
            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Border Background="#2F2F36" 
                    Grid.RowSpan="4" 
                    CornerRadius="0 0 3 3" 
                    BorderThickness="0.9 0.9 0.9 0.9" 
                    BorderBrush="#42424B">
                <Border.Effect>
                        <DropShadowEffect ShadowDepth="2" 
                                          BlurRadius="20"
                                          Color="Black" 
                                          Opacity="0.3"/>
                    </Border.Effect>
                
            </Border>
           
            <!-- Имя пользователя и фотография -->
                <StackPanel Width="180" Height="30">
                    <Grid Width="180" Height="30" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                    <Border Width="30" 
                        Height="30"
                        HorizontalAlignment="Center" 
                        VerticalAlignment="Top" 
                        Background="Black" 
                        Grid.Column="0" 
                        Grid.Row="1" 
                        Grid.RowSpan="2">
                        <Border.Clip>
                            <EllipseGeometry RadiusX="15" 
                                             RadiusY="15" 
                                             Center="15,15"/>
                        </Border.Clip>
                        <Image Stretch="Fill" 
                               x:Name="UserAvatarSmallImage" 
                               Source="\UI\Elements\UserMissedPictureBig.png"/>
                    </Border>

                    <Label Grid.Column="1" Content="Имя пользователя"
                               Name="CurrentUserNameLabel"
                               VerticalAlignment="Center"
                               Foreground="#D6D6D6" 
                               FontFamily="Arial" 
                               FontSize="14" 
                               FontWeight="Bold"/>
                    </Grid>
                </StackPanel>

            <!-- Кнопка Личного кабинета пользователя -->
            <Button Name="UserProfileOpenButton" 
                    Click="UserProfileOpenButton_Click" 
                    Grid.Row="1" Width="190" 
                    Height="38" Style="{StaticResource UserMenuButtonStyleBlack}">
                <StackPanel Width="180" Height="30">
                    <Grid Width="180" Height="30" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Path Width="25" 
                              Height="25" 
                              Fill="#D6D6D6" Data="M6.94444 8.33333C6.94444 5.26508 9.43175 
                              2.77778 12.5 2.77778C15.5682 2.77778 18.0556 5.26508 18.0556 
                              8.33333C18.0556 11.4015 15.5682 13.8889 12.5 13.8889C9.43175 
                              13.8889 6.94444 11.4015 6.94444 8.33333ZM17.8115 14.7549C19.6574 
                              13.2264 20.8333 10.9172 20.8333 8.33333C20.8333 3.73096 17.1024 0 
                              12.5 0C7.89762 0 4.16667 3.73096 4.16667 8.33333C4.16667 10.9172 
                              5.34261 13.2264 7.1885 14.7549C2.75585 16.3137 0 19.7881 0 23.6111C0 
                              24.3782 0.621833 25 1.38889 25C2.15594 25 2.77778 24.3782 2.77778 
                              23.6111C2.77778 20.4592 6.04903 16.6667 12.5 16.6667C18.951 16.6667 
                              22.2222 20.4592 22.2222 23.6111C22.2222 24.3782 22.844 25 23.6111 
                              25C24.3782 25 25 24.3782 25 23.6111C25 19.7881 22.2442 16.3137 17.8115 
                              14.7549Z"/>
                        <Label Grid.Column="1" Content="Мой профиль"
                   VerticalAlignment="Center"
                   Foreground="#D6D6D6" 
                   FontFamily="Arial" 
                   FontSize="14" 
                   FontWeight="Bold"/>
                    </Grid>
                </StackPanel>
            </Button>
            <!-- Смена темы -->
            <Button Name="SwapThemeButton" 
                    Tag="ThemeBlack" 
                    Click="SwapThemeButton_Click" 
                    Grid.Row="2" Width="190" 
                    Height="38" Style="{StaticResource UserMenuButtonStyleBlack}">
                <StackPanel Width="180" Height="30">
                    <Grid Width="180" Height="30" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition Width="45"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Path Visibility="Collapsed" x:Name="Sun" Width="25" Height="25" Fill="#E0B35E"
                                Data="M12.5 0C12.9816 0 13.3721 0.390453 13.3721 
                              0.872093V3.19767C13.3721 3.67931 12.9816 4.06977 
                              12.5 4.06977C12.0184 4.06977 11.6279 3.67931 11.6279 
                              3.19767V0.872093C11.6279 0.390453 12.0184 0 12.5 0ZM2.81238 
                              2.86755C3.13738 2.51208 3.68901 2.48738 4.04448 2.81238L6.62821 
                              5.1747C6.98367 5.4997 7.00837 6.05131 6.68337 6.40678C6.35837 
                              6.76224 5.80674 6.78694 5.45128 6.46194L2.86755 4.09964C2.51208
                              3.77464 2.48738 3.22301 2.81238 2.86755ZM22.1877 2.86755C22.5127 
                              3.22301 22.4879 3.77464 22.1324 4.09964L19.5487 6.46194C19.1933 
                              6.78694 18.6416 6.76224 18.3166 6.40678C17.9916 6.05131 18.0163 
                              5.4997 18.3717 5.1747L20.9556 2.81238C21.311 2.48738 21.8626 2.51208 
                              22.1877 2.86755ZM12.5 7.55814C9.77069 7.55814 7.55814 9.77069 7.55814 
                              12.5C7.55814 15.2293 9.77069 17.4419 12.5 17.4419C15.2293 17.4419 17.4419 
                              15.2293 17.4419 12.5C17.4419 9.77069 15.2293 7.55814 12.5 7.55814ZM5.81395 
                              12.5C5.81395 8.80739 8.80739 5.81395 12.5 5.81395C16.1926 5.81395 19.186 
                              8.80739 19.186 12.5C19.186 16.1926 16.1926 19.186 12.5 19.186C8.80739 
                              19.186 5.81395 16.1926 5.81395 12.5ZM0 12.5C0 12.0184 0.390453 11.6279 
                              0.872093 11.6279H3.19767C3.67931 11.6279 4.06977 12.0184 4.06977 12.5C4.06977
                              12.9816 3.67931 13.3721 3.19767 13.3721H0.872093C0.390453 13.3721 0 12.9816 0 
                              12.5ZM20.9302 12.5C20.9302 12.0184 21.3207 11.6279 21.8023 11.6279H24.1279C24.6095 
                              11.6279 25 12.0184 25 12.5C25 12.9816 24.6095 13.3721 24.1279 13.3721H21.8023C21.3207 
                              13.3721 20.9302 12.9816 20.9302 12.5ZM18.3436 18.3433C18.6842 18.0027 19.2364 18.0027 
                              19.577 18.3433L22.1607 20.9273C22.5013 21.2679 22.5012 21.8201 22.1606 22.1607C21.82
                              22.5013 21.2678 22.5012 20.9273 22.1606L18.3436 19.5765C18.003 19.2359 18.003 18.6838
                              18.3436 18.3433ZM6.65659 18.3434C6.99716 18.684 6.99716 19.2362 6.65659 19.5767L4.0726
                              22.1607C3.73203 22.5013 3.17986 22.5013 2.83928 22.1607C2.49871 21.8201 2.49871 21.2679
                              2.83928 20.9274L5.42327 18.3434C5.76384 18.0028 6.31601 18.0028 6.65659 18.3434ZM12.5
                              20.9302C12.9816 20.9302 13.3721 21.3207 13.3721 21.8023V24.1279C13.3721 24.6095 12.9816
                              25 12.5 25C12.0184 25 11.6279 24.6095 11.6279 24.1279V21.8023C11.6279 21.3207 12.0184 20.9302
                              12.5 20.9302Z"/>
                        <Path Visibility="Visible" x:Name="Moon" Width="25" Height="25" Fill="#bdd0e4"
                            Data="M23.2558 12.5C23.2558 18.4402 18.4402 23.2558 12.5 23.2558V25C19.4036
                              25 25 19.4036 25 12.5H23.2558ZM12.5 23.2558C6.55973 23.2558 1.74419 18.4402 
                              1.74419 12.5H0C0 19.4036 5.59644 25 12.5 25V23.2558ZM1.74419 12.5C1.74419 
                              6.55973 6.55973 1.74419 12.5 1.74419V0C5.59644 0 0 5.59644 0 12.5H1.74419ZM16.5698 
                              15.1163C12.8772 15.1163 9.88372 12.1228 9.88372 8.43023H8.13953C8.13953 13.0862 
                              11.9138 16.8605 16.5698 16.8605V15.1163ZM22.2969 11.8826C21.1247 13.8224 18.9979 
                              15.1163 16.5698 15.1163V16.8605C19.6336 16.8605 22.3148 15.2255 23.7898 12.7845L22.2969 
                              11.8826ZM9.88372 8.43023C9.88372 6.00212 11.1776 3.87535 13.1174 2.7031L12.2155 
                              1.21029C9.77452 2.68523 8.13953 5.36638 8.13953 8.43023H9.88372ZM12.5 1.74419C12.3971 
                              1.74419 12.2764 1.69777 12.1888 1.6066C12.1147 1.52938 12.0974 1.45633 12.0934 1.42678C12.0885
                              1.39055 12.0909 1.28555 12.2155 1.21029L13.1174 2.7031C13.7026 2.34959 13.8907 1.7023 13.8219 
                              1.19334C13.7505 0.664256 13.3333 0 12.5 0V1.74419ZM23.7898 12.7845C23.7144 12.9091 23.6094
                              12.9115 23.5733 12.9066C23.5437 12.9026 23.4706 12.8853 23.3934 12.8112C23.3022 12.7236
                              23.2558 12.6029 23.2558 12.5H25C25 11.6667 24.3357 11.2495 23.8066 11.1781C23.2977
                              11.1093 22.6503 11.2974 22.2969 11.8826L23.7898 12.7845Z"/>
                        <Label Grid.Column="1" Content="Тема:"
                               Width="50"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Center"
                               Foreground="#D6D6D6" 
                               FontFamily="Arial" 
                               FontSize="14" 
                               FontWeight="Bold"/>
                        <Label Content="Тёмная"
                               Name="ThemeLabel"
                               Width="100"
                               Grid.Column="2"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Left"
                               Foreground="#bdd0e4" 
                               FontFamily="Arial" 
                               FontSize="14" 
                               FontWeight="Bold"/>
                    </Grid>
                </StackPanel>
            </Button>
            <!-- Выход из аккаунта -->
            <Button Name="LogoutButton" 
                    Click="LogoutButton_Click" 
                    Grid.Row="3" Width="190" 
                    Height="38" Style="{StaticResource UserMenuButtonStyleBlack}">
                <StackPanel Width="180" Height="30">
                    <Grid Width="180" Height="30" HorizontalAlignment="Left">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Path Width="25" 
                              Height="25" 
                              Fill="#BE4D4D" 
                              Data="M9.52381 2.5C7.55137 
                              2.5 5.95238 4.17894 5.95238 
                              6.25001C5.95238 8.32107 7.55137 
                              10 9.52381 10C11.4963 10 13.0952 
                              8.32107 13.0952 6.25001C13.0952 
                              4.17894 11.4963 2.5 9.52381 
                              2.5ZM15.4762 6.25001C15.4762 
                              7.99457 14.7955 9.57214 13.6976 
                              10.706C14.6315 11.0505 15.4639 
                              11.5106 16.1804 12.0623C16.7105 
                              12.4706 16.825 13.2529 16.4361 
                              13.8095C16.0473 14.3663 15.3023 
                              14.4865 14.772 14.0781C13.5793 
                              13.1595 11.8123 12.5 9.52381 
                              12.5C4.67944 12.5 2.38095 15.3376 
                              2.38095 17.5C2.38095 18.1904 1.84795 
                              18.75 1.19048 18.75C0.533 18.75 0 18.1904 
                              0 17.5C0 14.5324 2.08264 11.9208 5.35612 
                              10.7124C4.25471 9.57814 3.57143 7.99785 
                              3.57143 6.25001C3.57143 2.79823 6.2364 0 9.52381 
                              0C12.8112 0 15.4762 2.79823 15.4762 6.25001ZM19.8894 
                              17.1339C20.3543 16.6458 20.3543 15.8543 19.8894 
                              15.3661C19.4245 14.878 18.6707 14.878 18.2058 
                              15.3661L14.6344 19.1161C14.1695 19.6043 14.1695 
                              20.3958 14.6344 20.8839L18.2058 24.6339C18.6707 
                              25.122 19.4245 25.122 19.8894 24.6339C20.3543 
                              24.1458 20.3543 23.3543 19.8894 22.8662L18.3502 
                              21.25H23.8095C24.467 21.25 25 20.6904 25 20C25 
                              19.3096 24.467 18.75 23.8095 18.75H18.3502L19.8894 17.1339Z"/>
                        <Label Grid.Column="1" Content="Выйти"
                   VerticalAlignment="Center"
                   Foreground="#BE4D4D" 
                   FontFamily="Arial" 
                   FontSize="14" 
                   FontWeight="Bold"/>
                    </Grid>
                </StackPanel>
            </Button>
        </Grid>
        <!-- Фрейм с основмыми страницами меню -->
        <Frame Visibility="Visible" 
               Grid.Row="1" 
               Name="MenuFrame" 
               NavigationUIVisibility="Hidden"/>
    </Grid>
</Page>
